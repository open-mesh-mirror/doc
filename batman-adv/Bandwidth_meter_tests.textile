h1. Bandwitdh meter tests

In this page some sample result of the bw meter executions are reported. In particular the results are compared with *iperf* and an *HTTP download* to see how much the obtained throughput varies in the different cases.

All the experiments have been executed between two nodes, directly connecteed via wireless ad-hoc. Different devices have been used for the tests. Major details about this are given later.

The scenarios where the tests have been executed are the following:

# bw meter from node to node
# iperf from node to node. Iperf was running on the nodes themselves
# HTTP download from an host behind the first node node to another one behind the second node. In particular:
## host is connected to the Ethernet port of the node
## Ethernet interface is bridged with the batman-adv soft interface

Test in scenarios 1 and 2 were executed alternatively (one bw meter, one iperf, one bw meter, one iperf, ...) while the HTTP downloads have been executed all together later on.

*note:* results given by the http download seem to be wrong. There is probably something wrong in the setup which is slowing everything down.

h2. Environment 1

One OM2P-HS and one OM2P-LC nodes using ath9k based wifi devices connected in ad-hoc mode on *2.4GHz*.
The HS is 802.11n (2x2) capable
The LC is 802.11n (1x1) capable

h3. Results

The table below shows the results in all the 3 scenarios.
All the results are expressed in *Mbps*.

*HS -> LC*

|_. bw_meter |_. iperf |_. http |
|26.23|27.4|16.80|
|26.26|27.4|16.80|
|26.42|26.4|16.96|
|25.92|26.8|16.96|
|25.98|26.5|18.00|
|26.47|26.7|17.28|
|26.03|25.7|16.88|
|25.27|26.2|16.32|
|25.40|25.7|16.64|
|25.83|26.2|16.56|
|25.74|26.1|15.36|
|25.86|26.3|16.16|
|26.44|26.2|15.76|
|27.14|27.0|16.40|
|27.91|29.5|15.92|
|35.45|33.8|16.24|
|36.10|34.0|16.56|
|36.02|34.1|16.48|
|34.74|33.5|16.64|
|34.66|33.9|17.04|


*LC -> HS*

|_. bw_meter |_. iperf |_. http |
|25.06|26.6|14.48|
|25.58|26.6|14.40|
|24.83|26.7|14.24|
|25.05|26.3|14.40|
|25.42|25.1|14.24|
|24.64|25.0|14.48|
|23.34|25.7|14.48|
|24.76|26.5|14.48|
|25.14|26.4|14.56|
|21.10|25.4|14.64|
|24.33|26.5|14.32|
|25.11|26.1|14.48|
|24.82|26.2|14.24|
|24.77|25.0|14.40|
|24.76|25.3|14.48|
|25.66|25.7|14.32|
|25.00|26.8|14.64|
|25.86|26.0|14.32|
|25.42|25.6|14.48|
|25.23|26.4|14.40|

h2. Environment 2

two OM5P node using ath9k based wifi devices connected in ad-hoc mode on *5GHz* using *HT40+* (channel 40MHz wide).
The OM5P is 802.11n (2x2) capable


h3. Results

The table below shows the results in all the 3 scenarios.
All the results are expressed in *Mbps*.

For this environment, one more scenario has been tested: *iperf host to host*, meaning that an iperf session has been launched between the two hosts connected to the nodes (same configuration as the HTTP download scenario).

*OM5P -> OM5P*

|_. bw_meter |_. iperf |_. http |_. iperf/h2h|
|135.52|36.2|32.96|83.0|
|144.46|36.6|33.28|80.6|
|145.53|36.4|30.64|81.1|
|162.07|36.5|28.96|82.5|
|148.56|36.6|30.56|83.3|
|156.16|36.5|29.52|80.4|
|141.38|36.6|29.84|82.5|
|161.64|36.6|29.36|81.9|
|143.59|36.4|33.04|83.6|
|163.20|36.5|29.20|83.8|
|162.87|36.7|31.52|81.9|
|163.94|36.6|30.16|80.1|
|162.24|36.6|31.04|82.4|
|143.91|36.5|30.80|80.6|
|160.92|36.6|31.04|81.6|
|148.86|36.6|31.12|84.2|
|164.32|36.4|28.88|81.5|
|142.23|36.4|27.92|81.6|
|154.22|36.4|29.84|80.9|
|153.94|36.4|30.64|82.4|