h1. DRAFT: Batman-adv 2019.0 released

Jan 14th, 2019. Today the B.A.T.M.A.N. team publishes the January 2019 update to batman-adv, batctl and alfred! This release decouples the tracing functionality from the (deprecated) debugfs functionality. Most of the netlink functionality now also reports inconsistency problems during the dumping of larger number of entries. As usual, this release also contains various bugfixes and code cleanups.

As the kernel module always depends on the Linux kernel it is compiled against, it does not make sense to provide binaries on our website. As usual, you will find the signed tarballs in our download section:

https://downloads.open-mesh.org/batman/releases/batman-adv-2019.0/

h2. Thanks

Thanks to all people sending in patches:

* Felix Fietkau <nbd@nbd.name>
* Linus LÃ¼ssing <linus.luessing@c0d3.blue>
* Linus Torvalds <torvalds@linux-foundation.org>
* Ruben Barkow <github@r.z11.de>
* Simon Wunderlich <sw@simonwunderlich.de>
* Sven Eckelmann <sven@narfation.org>

and to all those that supported us with good advice or rigorous testing:

* Andreas Ziegler <dev@andreas-ziegler.de>
* Andre Kasper <andre.kasper@gmx.de>
* Antonio Quartulli <a@unstable.cc>
* Dmitry Vyukov <dvyukov@google.com>
* Matthias Schiffer <mschiffer@universe-factory.net>

h2. batman-adv

<pre>
$ git describe origin/master
v2018.4-23-g89ba2134
$ range=v2018.4..v2018.4-19-g983e4981
$ git shortlog --email --no-merges "${range}"
$ git log --no-merges "${range}"|grep -e '\(Reported\|Tested\|Acked\|Reviewed-by\)-by'|sed 's/.*:/*/'|sort|uniq

new kernel support
==================


coding style cleanup/refactoring
================================

          batman-adv: Drop unused lockdep include
          batman-adv: Add includes for deprecation warning
          batman-adv: Improve includes for trace functionality
          batman-adv: Fix description for BATMAN_ADV_DEBUG
          batman-adv: Allow to disable depmod
          batman-adv: Move CRC16 dependency to BATMAN_ADV_BLA


unclassified
============

          batman-adv: Allow to use BATMAN_ADV_DEBUG without BATMAN_ADV_DEBUGFS

netlink
=======

          batman-adv: Add compat for genl_dump_check_consistent
          batman-adv: Add inconsistent gateway netlink dump detection
          batman-adv: Add inconsistent hardif netlink dump detection
          batman-adv: Store modification counter via hash helpers
          batman-adv: Add inconsistent backbone netlink dump detection
          batman-adv: Add inconsistent claim netlink dump detection
          batman-adv: Add inconsistent dat netlink dump detection
          batman-adv: Add inconsistent local TT netlink dump detection
          batman-adv: Add inconsistent multicast netlink dump detection



bugfixes
========

      batman-adv: Avoid WARN on net_device without parent in netns
      batman-adv: Force mac header to start of data on xmit
      batman-adv: release station info tidstats




TODO: ADD FIX https://patchwork.open-mesh.org/patch/17751/

2019.0 (2019-10-14)
===================

* support latest kernels (3.16 - 5.0)
* coding style cleanups and refactoring
* allow to enable debug tracing without full batman-adv debugfs support
* enable inconsistency reporting for most netlink dump commands
* bugs squashed:

  - avoid unnecessary kernel warning (panic) during detection of interface loops
  - work around incorrect ethernet header offset in transmit code path

</pre>

h2. batctl

<pre>
$ git describe origin/master
v2018.4-9-g1f35614
$ range=v2018.4..v2018.4-9-g1f35614
$ git shortlog --email --no-merges "${range}"
$ git log --no-merges "${range}"|grep -e '\(Reported\|Tested\|Acked\|Reviewed-by\)-by'|sed 's/.*:/*/'|sort|uniq

manpage
=======

          batctl: Add section to explain gateway selection class for BATMAN_V




cleanups/coderefactoring
========================

    
          batctl: Rename option_watch_interval to option_timeout_interval

Bugfix
======


          batctl: Fix parsing of optional debug table command parameters
          batctl: Remove check of compiled_out files
          batctl: Drop incorrect check for existing meshif directory



2019.0 (2019-10-14)
===================

* coding style cleanups and refactoring
* add gateway selection manpage section for B.A.T.M.A.N. V
* bugs squashed:

  - re-integrate support for translation table unicast/multicast filter
  - avoid incorrect warning about disabled mesh interface when debugfs
    support is not enabled in batman-adv

</pre>

h2. alfred

<pre>
$ git describe origin/master
v2018.4-2-gbf0bf31
$ range=v2018.4..v2018.4-2-gbf0bf31
$ git shortlog --email --no-merges "${range}"
$ git log --no-merges "${range}"|grep -e '\(Reported\|Tested\|Acked\|Reviewed-by\)-by'|sed 's/.*:/*/'|sort|uniq





2019.0 (2019-10-14)
===================

* (no changes)
</pre>


Happy routing,

The B.A.T.M.A.N. team