h1. DRAFT: Batman-adv 2019.2 released

May 21th, 2019. Today the B.A.T.M.A.N. team publishes the May 2019 update to batman-adv, batctl and alfred! To improve the overhead in networks with multicast listeners, adjustments for the multicast optimization were implemented which enable multicast-to-unicast conversion. batman-adv can now update the DAT entry timeouts on incoming ARP replies to reduce the broadcast overhead even further. The sysfs integration in batman-adv is now optional and can be disabled during the compilation. A system without the sysfs support also requires additional changes in batctl which are shipped now as part of this release. Also the deprecated debugfs log support in batctl was dropped together with the support of MAC-to-originator translation via debugfs. As usual, this release also contains various bugfixes and code cleanups.

As the kernel module always depends on the Linux kernel it is compiled against, it does not make sense to provide binaries on our website. As usual, you will find the signed tarballs in our download section:

https://downloads.open-mesh.org/batman/releases/batman-adv-2019.2/

h2. Thanks

Thanks to all people sending in patches:

* Kirill Smelkov <kirr@nexedi.com>
* Linus LÃ¼ssing <linus.luessing@c0d3.blue>
* Johannes Berg <johannes.berg@intel.com>
* Sven Eckelmann <sven@narfation.org>

and to all those that supported us with good advice or rigorous testing:

* Antonio Quartulli <a@unstable.cc>

h2. batman-adv

<pre>
$ git describe origin/master
v2019.1-19-g337ae19a
$ range=v2019.1..v2019.1-19-g337ae19a
$ git shortlog --email --no-merges "${range}"
$ git log --no-merges "${range}"|grep -e '\(Reported\|Tested\|Acked\|Reviewed-by\|Co-authored-by\)-by'|sed 's/.*:/*/'|sort|uniq


new kernel support
==================

      batman-adv: genetlink: make policy common to family
      batman-adv: genetlink: optionally validate strictly/dumps

coding style cleanup/refactoring
================================

      batman-adv: Adjust name for batadv_dat_send_data

unclassified
============

      MAINTAINERS: Add B(ugtracker) field for batman-adv
      MAINTAINERS: Add C(hat) field for batman-adv
      MAINTAINERS: Add T(ree) field for batman-adv
      batman-adv: Drop license boilerplate

multicast
=========

      batman-adv: Add multicast-to-unicast support for multiple targets

DAT
===

      batman-adv: allow updating DAT entry timeouts on incoming ARP Replies


sysfs
=====

      batman-adv: Drop documentation about debugfs files
      batman-adv: Drop documentation about sysfs files
      batman-adv: Make sysfs support optional
      batman-adv: ABI: Mark sysfs files as deprecated
      batman-adv: Warn about sysfs file access



bugfixes
========

      batman-adv: mcast: fix multicast tt/tvlv worker locking






2019.2 (2019-05-21)
===================

* support latest kernels (3.16 - 5.2)
* coding style cleanups and refactoring
* implement multicast-to-unicast support for multiple targets
* deprecate sysfs support and make it optional
* refresh DAT entry timeouts on incoming ARP Replies
* bugs squashed:

  - fix multicast tt/tvlv worker locking

</pre>

h2. batctl

<pre>
$ git describe origin/master
v2019.1-9-g68d5ace
$ range=v2019.1..v2019.1-9-g68d5ace
$ git shortlog --email --no-merges "${range}"
$ git log --no-merges "${range}"|grep -e '\(Reported\|Tested\|Acked\|Reviewed-by\|Co-authored-by\)-by'|sed 's/.*:/*/'|sort|uniq



multicast
=========

      batctl: add switch for setting multicast_fanout


sysfs
=====

      batctl: Support checking of meshif without sysfs
      batctl: Reimplement VLAN translation using helper
      batctl: Add netlink fallback for sysfs' iface_status


manpage
=======

unclassified
============

      batctl: Drop license boilerplate
      batctl: Drop log subcommand
      batctl: Drop support for translating destinations via debugfs

    

Bugfix
======

      batctl: Fix check for batadv genl name resolve


netlink
=======




2019.2 (2019-05-21)
===================

* coding style cleanups and refactoring
* add multicast_fanout setting subcommand
* implement netlink based support for remaining sysfs-only features
* drop support for deprecated log command support
* remove non-netlink support for translating MAC addresses to originators

</pre>

h2. alfred

<pre>
$ git describe origin/master
v2019.1-4-g1ce394b
$ range=v2019.1..v2019.1-4-g1ce394b
$ git shortlog --email --no-merges "${range}"
$ git log --no-merges "${range}"|grep -e '\(Reported\|Tested\|Acked\|Reviewed-by\|Co-authored-by\)-by'|sed 's/.*:/*/'|sort|uniq


unclassified
============

      alfred: Switch packet.h license to MIT
      alfred: Drop license boilerplate
      alfred: Sync batadv_netlink_policy


2019.2 (2019-05-21)
===================

* synchronization of batman-adv netlink header
</pre>


Happy routing,

The B.A.T.M.A.N. team